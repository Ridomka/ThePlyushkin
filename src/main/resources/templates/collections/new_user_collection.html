<!doctype html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Обязательные метатеги -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Плюшкин</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>

    <link rel="shortcut icon" href="/images/icon.jpg"> <!-- иконка сайта -->
    <link rel="stylesheet" href="/css/style_for_my_collection_add.css">
</head>

<body>
<!----------------------СЕКЦИЯ Добавление коллекции------------------------------>
<section>
    <div class="container-m">
        <div class="maket-moi-kollekcii">
            <div class="flex-wrapper-one">
                <p class="pljushkin">Плюшкин</p>
                <p class="moi-kollekcii">Мои коллекции</p>
                <p class="glavnaja-stranica">Главная страница</p>
                <p class="lichnyj-kabinet">Личный кабинет</p>
            </div>

            <div class="container">
                <h2>Horizontal form</h2>
                <form class="form-horizontal" th:method="PUSH" th:action="@{/collections/add}" th:object="${collection}">
                    <div class="form-group">
                        <label for="sel1">Выберите тип коллекции:</label>
                        <select class="form-control" id="sel1" th:field="*{typeOfCollection.id}">
                            <option th:each="p : ${typesOfCollection}"
                                    th:value="${p.id}"
                                    th:text="${p.getName()}">
                                Type of collection
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" for="name">Название коллекции:</label>
                        <div class="col-sm-10">
                            <input type="text" th:field="*{name}" class="form-control" id="name"
                                   placeholder="Введите название коллекции" name="name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" for="description">Описание коллекции:</label>
                        <div class="col-sm-10">
                            <input type="text" th:field="*{description}" class="form-control" id="description"
                                   placeholder="Введите описание коллекции" name="description">
                        </div>
                    </div>
<!--                    <div class="form-group">-->
<!--                        <label class="control-label col-sm-2" for="col-img">Обложка коллекции:</label>-->
<!--                        <div class="col-sm-10">-->
<!--                            <input type="file" th:field="*{image}" accept=".jpg, .jpeg, .png" class="form-control" id="col-img"-->
<!--                                   name="col-img">-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="preview">-->
<!--                        <p>No files currently selected for upload</p>-->
<!--                    </div>-->
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button type="submit" class="btn btn-default">Создать</button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="net-kollekcii-sozdajte">
                <div class="knopka">
                    <p class="sozdat-kollekciju">Создать коллекцию</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!--<script>-->
<!--    const input = document.querySelector('input');-->
<!--    const preview = document.querySelector('.preview');-->

<!--    input.style.opacity = 0;-->

<!--    input.addEventListener('change', updateImageDisplay);-->

<!--    function updateImageDisplay() {-->
<!--        while(preview.firstChild) {-->
<!--            preview.removeChild(preview.firstChild);-->
<!--        }-->

<!--        const curFiles = input.files;-->
<!--        if(curFiles.length === 0) {-->
<!--            const para = document.createElement('p');-->
<!--            para.textContent = 'No files currently selected for upload';-->
<!--            preview.appendChild(para);-->
<!--        } else {-->
<!--            const list = document.createElement('ol');-->
<!--            preview.appendChild(list);-->

<!--            for(const file of curFiles) {-->
<!--                const listItem = document.createElement('li');-->
<!--                const para = document.createElement('p');-->

<!--                if(validFileType(file)) {-->
<!--                    para.textContent = `File name ${file.name}, file size ${returnFileSize(file.size)}.`;-->
<!--                    const image = document.createElement('img');-->
<!--                    image.src = URL.createObjectURL(file);-->

<!--                    listItem.appendChild(image);-->
<!--                    listItem.appendChild(para);-->
<!--                } else {-->
<!--                    para.textContent = `File name ${file.name}: Not a valid file type. Update your selection.`;-->
<!--                    listItem.appendChild(para);-->
<!--                }-->

<!--                list.appendChild(listItem);-->
<!--            }-->
<!--        }-->
<!--    }-->

<!--    // https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types-->
<!--    const fileTypes = [-->
<!--        'image/apng',-->
<!--        'image/bmp',-->
<!--        'image/gif',-->
<!--        'image/jpeg',-->
<!--        'image/pjpeg',-->
<!--        'image/png',-->
<!--        'image/svg+xml',-->
<!--        'image/tiff',-->
<!--        'image/webp',-->
<!--        `image/x-icon`-->
<!--    ];-->

<!--    function validFileType(file) {-->
<!--        return fileTypes.includes(file.type);-->
<!--    }-->

<!--    function returnFileSize(number) {-->
<!--        if(number < 1024) {-->
<!--            return number + 'bytes';-->
<!--        } else if(number > 1024 && number < 1048576) {-->
<!--            return (number/1024).toFixed(1) + 'KB';-->
<!--        } else if(number > 1048576) {-->
<!--            return (number/1048576).toFixed(1) + 'MB';-->
<!--        }-->
<!--    }-->
<!--</script>-->

</body>
</html>